{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/how-to-use-react-context-effectively/","result":{"data":{"site":{"siteMetadata":{"title":"Jaehyeon's Dev Blog","author":"Jaehyeon Kim","siteUrl":"https://jaehyeon48.github.io","comment":{"disqusShortName":"","utterances":"jaehyeon48/blog-comments"}}},"markdownRemark":{"id":"dfec745c-238a-5d5e-a857-975f85200280","excerpt":"ì´ í¬ìŠ¤íŠ¸ëŠ” How to use React Context effectivelyë¥¼ ë²ˆì—­í•œ ê¸€ì…ë‹ˆë‹¤. Reactë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœê´€ë¦¬ í•˜ê¸°ì—ì„œ ì§€ì—­ ìƒíƒœì™€ React ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°™ì´ ì‚¬ìš©í•˜ì—¬ React ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì˜ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì†Œê°œí•´ ë“œë ¸ìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ ë³´ì—¬ë“œë ¸ë˜ ëª‡ ê°€ì§€ ì˜ˆì œë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì–´ë–»ê²Œ í•˜ë©´ ì»¨í…ìŠ¤íŠ¸ comsumerë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì‘ì„±í•˜ì—¬ ê°œë°œì ê²½í—˜ê³¼ ì»¨í…ìŠ¤íŠ¸ ê°ì²´ì˜ ìœ ì§€ ë³´ìˆ˜ì„±ì„ ë†’ì¼ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ë§ì”€ë“œë¦¬ë ¤ê³  í•©ë‹ˆë‹¤. âš ï¸ ìš°ì„  Reactâ€¦","html":"<p>ì´ í¬ìŠ¤íŠ¸ëŠ” <a href=\"https://kentcdodds.com/blog/how-to-use-react-context-effectively\" target=\"_blank\" rel=\"noreferrer noopener\">How to use React Context effectively</a>ë¥¼ ë²ˆì—­í•œ ê¸€ì…ë‹ˆë‹¤.</p>\n<hr class=\"custom-hr\">\n<p><a href=\"https://jaehyeon48.github.io/react/application-state-management-with-react/\" target=\"_blank\" rel=\"noreferrer noopener\">Reactë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœê´€ë¦¬ í•˜ê¸°</a>ì—ì„œ ì§€ì—­ ìƒíƒœì™€ React ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°™ì´ ì‚¬ìš©í•˜ì—¬ React ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì˜ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì†Œê°œí•´ ë“œë ¸ìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ ë³´ì—¬ë“œë ¸ë˜ ëª‡ ê°€ì§€ ì˜ˆì œë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì–´ë–»ê²Œ í•˜ë©´ ì»¨í…ìŠ¤íŠ¸ comsumerë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì‘ì„±í•˜ì—¬ ê°œë°œì ê²½í—˜ê³¼ ì»¨í…ìŠ¤íŠ¸ ê°ì²´ì˜ ìœ ì§€ ë³´ìˆ˜ì„±ì„ ë†’ì¼ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ë§ì”€ë“œë¦¬ë ¤ê³  í•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>âš ï¸ ìš°ì„  <a href=\"https://jaehyeon48.github.io/react/application-state-management-with-react/\" target=\"_blank\" rel=\"noreferrer noopener\">Reactë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœê´€ë¦¬ í•˜ê¸°</a>ë¥¼ ì½ìœ¼ì‹œê³ , ëª¨ë“  ë¬¸ì œì— ëŒ€í•´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤ëŠ” ì¡°ì–¸ì„ ë”°ë¥´ì„¸ìš”. í•˜ì§€ë§Œ ì •ë§ë¡œ ì»¨í…ìŠ¤íŠ¸ê°€ í•„ìš”í•œ ìƒí™©ì´ë¼ë©´, ì´ í¬ìŠ¤íŠ¸ë¥¼ í†µí•´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë” íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•„ì‹œê²Œ ë  ê²ë‹ˆë‹¤. ë˜í•œ, ì»¨í…ìŠ¤íŠ¸ê°€ ë¬´ì¡°ê±´ ê¸€ë¡œë²Œí•˜ê²Œ ì¡´ì¬í•  í•„ìš”ëŠ” ì „í˜€ ì—†ìœ¼ë©° ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„í• í•˜ì—¬ ì—¬ëŸ¬ ê°œì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§€ëŠ” ê²ƒì´ ë” ë°”ëŒì§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<p>ìš°ì„ , <code class=\"language-text\">src/count-context.js</code> íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> CountContext <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>í˜„ì¬ <code class=\"language-text\">CountContext</code>ì—ëŠ” ì´ˆê¸°ê°’ì´ ì—†ìŠµë‹ˆë‹¤. ë§Œì•½ ì´ˆê¸°ê°’ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ <code class=\"language-text\">React.createContext({ count: 0 });</code>ì™€ ê°™ì´í•˜ë©´ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ì˜ˆì œì—ì„  ì˜ë„ì ìœ¼ë¡œ ì´ˆê¸°ê°’ì„ ë„£ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œë‚˜ ìœ ìš©í•©ë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">CountDisplay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> count <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>CountContext<span class=\"token punctuation\">)</span></span>  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountDisplay</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'âš›ï¸'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">CountContext</code>ì— ì´ˆê¸°ê°’ì´ ì—†ê¸° ë•Œë¬¸ì—, ìœ„ ì½”ë“œì—ì„œ í•˜ì´ë¼ì´íŠ¸ ëœ ë¶€ë¶„ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì…ë‹ˆë‹¤. ì´ ì»¨í…ìŠ¤íŠ¸ì˜ ê¸°ë³¸ê°’ì€ <code class=\"language-text\">undefined</code>ì¸ë° <code class=\"language-text\">undefined</code>ë¥¼ <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#object_destructuring\" target=\"_blank\" rel=\"noreferrer noopener\">êµ¬ì¡° ë¶„í•´</a>í•  ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì´ì£ !</p>\n<p>ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒì€ ì—†ê¸° ë•Œë¬¸ì—, ì•„ë§ˆ ì—¬ëŸ¬ë¶„ì€ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë¬´ì˜ì‹ì ìœ¼ë¡œ ê¸°ë³¸ê°’ì„ ì¶”ê°€í•˜ì‹¤ ê²ë‹ˆë‹¤. í•˜ì§€ë§Œ í•œë²ˆ ìƒê°í•´ë´…ì‹œë‹¤. ì»¨í…ìŠ¤íŠ¸ì— ì‹¤ì œ ê°’ì´ ì—†ëŠ”ë° ì»¨í…ìŠ¤íŠ¸ë¥¼ ì™œ ì“°ëŠ”ê±¸ê¹Œìš”? ë§Œì•½ ë‹¨ìˆœíˆ ê¸°ë³¸ê°’ë§Œì„ ì“°ëŠ” ê±°ë¼ë©´ ì»¨í…ìŠ¤íŠ¸ë¥¼ êµ³ì´ ì‚¬ìš©í•˜ëŠ” ì´ìœ ê°€ ì—†ì„ ê²ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì‚¬ìš©í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ê²½ìš°, ìœ ìš©í•œ ê°’ì„ ì œê³µí•´ì£¼ëŠ” provider ë‚´ì—ì„œ (<code class=\"language-text\">useContext</code>ë¥¼ ì‚¬ìš©í•˜ëŠ”) consumerê°€ ë Œë”ë§ ë˜ê¸°ë¥¼ ì›í•  ê²ë‹ˆë‹¤.</p>\n<blockquote>\n<p>ë¬¼ë¡  ê¸°ë³¸ê°’ì´ ìœ ìš©í•œ ê²½ìš°ë„ ìˆì§€ë§Œ, ê¸°ë³¸ê°’ì´ í•„ìš” ì—†ì„ ë¿ ë”ëŸ¬ ê·¸ë‹¤ì§€ ìœ ìš©í•˜ì§€ ì•Šì€ ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì…ë‹ˆë‹¤.</p>\n</blockquote>\n<p><a href=\"https://reactjs.org/docs/context.html#reactcreatecontext\" target=\"_blank\" rel=\"noreferrer noopener\">React ê³µì‹ ë¬¸ì„œ</a>ì—ì„  ì»¨í…ìŠ¤íŠ¸ì˜ ê¸°ë³¸ê°’ì„ ì œê³µí•˜ë©´ â€œì»´í¬ë„ŒíŠ¸ë¥¼ wrappingí•˜ì§€ ì•Šê³  í…ŒìŠ¤íŠ¸í•˜ê¸°ì— ìœ ìš©í•˜ë‹¤â€ë¼ê³  í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡  ë§ëŠ” ë§ì´ê¸´ í•©ë‹ˆë‹¤ë§Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì»¨í…ìŠ¤íŠ¸ë¡œ wrapping í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ì€ ê²ƒì¸ì§€ëŠ” ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‹¤ì œë¡œëŠ” í•˜ì§€ ì•ŠëŠ” ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì€ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì–»ì„ ìˆ˜ ìˆëŠ” (ì½”ë“œì— ëŒ€í•œ) ìì‹ ê°ì„ ì €í•˜í•˜ëŠ” í–‰ìœ„ì„ì„ ê¸°ì–µí•˜ì„¸ìš”. <a href=\"https://kentcdodds.com/blog/the-merits-of-mocking\" target=\"_blank\" rel=\"noreferrer noopener\">ì´ë ‡ê²Œ í•˜ëŠ” ê²½ìš°</a>ê°€ ìˆê¸°ëŠ” í•˜ì§€ë§Œ ì§€ê¸ˆì˜ ìƒí™©ì€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>âš ï¸ ë§Œì¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ê³„ì‹ ë‹¤ë©´, ê¸°ë³¸ê°’ì„ ì œê³µí•˜ì§€ ì•Šì„ ê²½ìš° <code class=\"language-text\">useContext</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§¤ìš° ê·€ì°®ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì— ëŒ€í•œ í•´ê²°ì±…ì€ ë’¤ì—ì„œ ì•Œë ¤ë“œë¦´ê²Œìš”!</p>\n</blockquote>\n<h2 id=\"ì»¤ìŠ¤í…€-provider-ì»´í¬ë„ŒíŠ¸-the-custom-provider-component\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-provider-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-the-custom-provider-component\" aria-label=\"ì»¤ìŠ¤í…€ provider ì»´í¬ë„ŒíŠ¸ the custom provider component permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"18\" height=\"18\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" viewBox=\"0 0 512 512\"><path fill=\"#05b166\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg></a>ì»¤ìŠ¤í…€ Provider ì»´í¬ë„ŒíŠ¸ (The Custom Provider Component)</h2>\n<p>ì¢‹ì•„ìš”, ê³„ì†í•´ë´…ì‹œë‹¤. ì•ì„œ ë§Œë“  ì»¨í…ìŠ¤íŠ¸ ëª¨ë“ˆì„ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  providerë¥¼ ì‚¬ìš©í•˜ê³  ê°’ì„ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë…¸ì¶œí•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\">      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountDisplay</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Counter</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">CountProvider</span></span><span class=\"token punctuation\">></span></span></span>  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'âš›ï¸'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê·¸ë ‡ë‹¤ë©´ ìœ„ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> CountContext <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">countReducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'increment'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'decrement'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Unhandled action type: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>action<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">CountProvider</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>countReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ì´ ê°’ì„ memoize í•´ì•¼í•  ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤</span>\n  <span class=\"token comment\">// https://kentcdodds.com/blog/how-to-optimize-your-context-valueë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”!</span>\n  <span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> state<span class=\"token punctuation\">,</span> dispatch <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountContext.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">CountContext.Provider</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> CountProvider <span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>ìœ„ ì˜ˆì‹œëŠ” ì‹¤ì œ ì„¸ê³„ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ì¸ìœ„ë¡œ ë§Œë“¤ì–´ë‚¸ ê²ƒì…ë‹ˆë‹¤. <strong>í•­ìƒ ì´ë ‡ê²Œ ë³µì¡í•œ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤!</strong> <code class=\"language-text\">useState</code>ê°€ ì í•©í•œ ê²½ìš°ë¼ë©´ ë§ˆìŒê» ì‚¬ìš©í•˜ì„¸ìš”. ì–´ë–¤ providerë“¤ì€ ìœ„ì™€ ê°™ì´ ê°„ë‹¨í•  ìˆ˜ë„ ìˆì§€ë§Œ, ë”ìš±ë” ë§ì€ í›…ì„ ì‚¬ìš©í•˜ì—¬ í›¨ì”¬ ë³µì¡í•œ providerë“¤ë„ ì¡´ì¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<h2 id=\"ì»¤ìŠ¤í…€-consumer-í›…-the-custom-consumer-hook\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-consumer-%ED%9B%85-the-custom-consumer-hook\" aria-label=\"ì»¤ìŠ¤í…€ consumer í›… the custom consumer hook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"18\" height=\"18\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" viewBox=\"0 0 512 512\"><path fill=\"#05b166\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg></a>ì»¤ìŠ¤í…€ Consumer í›… (The Custom Consumer Hook)</h2>\n<p>ì‹¤ì œ í˜„ì—…ì—ì„œ ì œê°€ ë³¸ ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš© ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë“¤ì´ ë§ì•˜ìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> SomethingContext <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'some-context-package'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">YourComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> something <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>SomethingContext<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•˜ì§€ë§Œ ì œ ìƒê°ì—” ì•„ë˜ì²˜ëŸ¼ í•˜ë©´ ë”ìš± ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSomething <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'some-context-package'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">YourComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> something <span class=\"token operator\">=</span> <span class=\"token function\">useSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë°©ê¸ˆ ë³´ì—¬ë“œë¦° ì˜ˆì‹œëŠ” ì•„ë˜ì— ì œê°€ ë³´ì—¬ë“œë¦´ ì˜ˆì‹œì²˜ëŸ¼ ëª‡ ê°€ì§€ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> CountContext <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">countReducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'increment'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'decrement'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Unhandled action type: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>action<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">CountProvider</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>countReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ì´ ê°’ì„ memoize í•´ì•¼í•  ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤</span>\n  <span class=\"token comment\">// https://kentcdodds.com/blog/how-to-optimize-your-context-valueë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”!</span>\n  <span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> state<span class=\"token punctuation\">,</span> dispatch <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountContext.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">CountContext.Provider</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">useCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>CountContext<span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>context <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'useCount must be used within a CountProvider'</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">return</span> context</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> CountProvider<span class=\"token punctuation\">,</span> useCount <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìš°ì„ , <code class=\"language-text\">useCount</code> ì»¤ìŠ¤í…€ í›…ì€ (React íŠ¸ë¦¬ì—ì„œ) ê°€ì¥ ê°€ê¹Œìš´ <code class=\"language-text\">CountProvider</code>ê°€ ì œê³µí•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ê°’ì„ ì–»ê¸° ìœ„í•´ <code class=\"language-text\">React.useContext</code>ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì–´ë– í•œ ê°’ë„ ì—†ëŠ” ê²½ìš°, <code class=\"language-text\">CountProvider</code> ë‚´ì—ì„œ ë Œë”ë§ëœ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ë˜ê³  ìˆì§€ ì•Šë‹¤ëŠ” ì—ëŸ¬ë¥¼ ë„ì›ë‹ˆë‹¤. ì•„ë§ˆë„ ì‹¤ìˆ˜ì¸ ê²Œ ë¶„ëª…í•˜ë¯€ë¡œ ì´ë ‡ê²Œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë„ìš°ëŠ” ê²ƒì€ ì¤‘ìš”í•©ë‹ˆë‹¤. <a href=\"https://www.martinfowler.com/ieeeSoftware/failFast.pdf\" target=\"_blank\" rel=\"noreferrer noopener\">#FailFast</a></p>\n<h2 id=\"ì»¤ìŠ¤í…€-consumer-ì»´í¬ë„ŒíŠ¸-the-custom-consumer-component\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-consumer-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-the-custom-consumer-component\" aria-label=\"ì»¤ìŠ¤í…€ consumer ì»´í¬ë„ŒíŠ¸ the custom consumer component permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"18\" height=\"18\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" viewBox=\"0 0 512 512\"><path fill=\"#05b166\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg></a>ì»¤ìŠ¤í…€ Consumer ì»´í¬ë„ŒíŠ¸ (The Custom Consumer Component)</h2>\n<p>ë§Œì•½ í›…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ë¼ë©´ ì´ ì„¹ì…˜ì„ ê±´ë„ˆë›°ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ React 16.8.0 ì´ì „ ë²„ì „ì„ ì§€ì›í•˜ì…”ì•¼ í•œë‹¤ê±°ë‚˜, í˜¹ì€ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš° render-propì„ ê¸°ë°˜ìœ¼ë¡œ í•œ APIë¡œ ë¹„ìŠ·í•˜ê²Œ í‰ë‚´ ë‚´ëŠ” ë°©ë²•ì„ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">CountConsumer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountContext.Consumer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span><span class=\"token parameter\">context</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>context <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'CountConsumer must be used within a CountProvider'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">children</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">CountContext.Consumer</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">CounterThing</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountConsumer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> state<span class=\"token punctuation\">,</span> dispatch <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'decrement'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              Decrement\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'increment'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              Increment\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">CountConsumer</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ëŠ” ì œê°€ í›… ì´ì „ì— ì‚¬ìš©í–ˆë˜ ë°©ì‹ì…ë‹ˆë‹¤. ë¬¼ë¡  ì˜ ë™ì‘í•˜êµ¬ìš”. í•˜ì§€ë§Œ í›…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒí™©ì´ë¼ë©´ í›…ì„ ì‚¬ìš©í•˜ì„¸ìš”. í›¨ì”¬ ë‚«ìŠµë‹ˆë‹¤ ğŸ˜‚</p>\n<h2 id=\"íƒ€ì…ìŠ¤í¬ë¦½íŠ¸\" style=\"position:relative;\"><a href=\"#%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"18\" height=\"18\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" viewBox=\"0 0 512 512\"><path fill=\"#05b166\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg></a>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸</h2>\n<p>ì•ì„œ ì•½ì†í•œëŒ€ë¡œ <code class=\"language-text\">defaultValue</code>ë¥¼ ì œê³µí•˜ì§€ ì•Šì„ ë•Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë°œìƒí•˜ëŠ” ì´ìŠˆë“¤ì„ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì œê°€ ê¶Œí•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ í”¼í•˜ì‹¤ ìˆ˜ ìˆê²Œ ë˜ì‹¤ê²ë‹ˆë‹¤. ì‚¬ì‹¤ ë¬¸ì œë¼ê³  í•˜ê¸°ì—ë„ ì• ë§¤í•œë°ìš”, ë´…ì‹œë‹¤:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Action</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'increment'</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'decrement'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Dispatch</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">action<span class=\"token operator\">:</span> Action</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">State</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">CountProviderProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> children<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactNode <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> CountStateContext <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">createContext</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>\n  <span class=\"token punctuation\">{</span> state<span class=\"token operator\">:</span> State<span class=\"token punctuation\">;</span> dispatch<span class=\"token operator\">:</span> Dispatch <span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span>\n<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">countReducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token operator\">:</span> State<span class=\"token punctuation\">,</span> action<span class=\"token operator\">:</span> Action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'increment'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Unhandled action type: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>action<span class=\"token punctuation\">.</span><span class=\"token keyword\">type</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">CountProvider</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> CountProviderProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>countReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ì´ ê°’ì„ memoize í•´ì•¼í•  ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤</span>\n  <span class=\"token comment\">// https://kentcdodds.com/blog/how-to-optimize-your-context-valueë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”!</span>\n  <span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> state<span class=\"token punctuation\">,</span> dispatch <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountStateContext.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">      </span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">CountStateContext.Provider</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">useCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>CountStateContext<span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>context <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'useCount must be used within a CountProvider'</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">return</span> context</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> CountProvider<span class=\"token punctuation\">,</span> useCount <span class=\"token punctuation\">}</span></code></pre></div>\n<p>(<a href=\"https://codesandbox.io/s/bitter-night-i5mhj\" target=\"_blank\" rel=\"noreferrer noopener\">ë°ëª¨</a>)</p>\n<p>ì´ë ‡ê²Œ í•˜ë©´ ëˆ„êµ¬ë“  <code class=\"language-text\">useCount</code>ë¥¼ ì“¸ ë•Œ <code class=\"language-text\">undefined</code> ì²´í‚¹ì„ í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤. ì™œëƒë©´ ìš°ë¦¬ê°€ ë¯¸ë¦¬ í–ˆê¸° ë•Œë¬¸ì´ì£ !</p>\n<h2 id=\"dispatch-type-ì˜¤íƒ€ëŠ”-ì–´ë–¡í•˜ì£ -what-about-dispatch-type-typos\" style=\"position:relative;\"><a href=\"#dispatch-type-%EC%98%A4%ED%83%80%EB%8A%94-%EC%96%B4%EB%96%A1%ED%95%98%EC%A3%A0-what-about-dispatch-type-typos\" aria-label=\"dispatch type ì˜¤íƒ€ëŠ” ì–´ë–¡í•˜ì£  what about dispatch type typos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"18\" height=\"18\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" viewBox=\"0 0 512 512\"><path fill=\"#05b166\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg></a>Dispatch â€œtypeâ€ ì˜¤íƒ€ëŠ” ì–´ë–¡í•˜ì£ ? (What about dispatch â€œtypeâ€ typos?)</h2>\n<p>ì´ ì‹œì ì—ì„œ ì—¬ëŸ¬ë¶„ì˜ ë¦¬ë•ìŠ¤ëŠ” â€œì´ë´, ì•¡ì…˜ creatorëŠ” ì–´ë”” ê°”ì–´?â€ í•˜ê³  ì†Œë¦¬ì¹˜ê³  ìˆì„ ê²ë‹ˆë‹¤. ë§Œì•½ ì•¡ì…˜ creatorë¥¼ êµ¬í˜„í•˜ê³  ì‹¶ìœ¼ì‹œë©´ í•˜ì…”ë„ ê´œì°®ì§€ë§Œ, ì‚¬ì‹¤ ê°œì¸ì ìœ¼ë¡œ ì•¡ì…˜ creatorë¥¼ ì¢‹ì•„í•´ ë³¸ ì ì€ ì—†ìŠµë‹ˆë‹¤. ì™œëƒë©´ ë¶ˆí•„ìš”í•œ ì¶”ìƒí™”ë¼ê³  ìƒê°í–ˆê±°ë“ ìš”. ë˜í•œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ì•¡ì…˜ë“¤ì˜ íƒ€ì…ì„ ì˜ ë§Œë“¤ê²Œ ë˜ë©´ ì•¡ì…˜ creatorê°€ í•„ìš” ì—†ì„ ê²ë‹ˆë‹¤. ìë™ ì™„ì„±ë„ ìˆê³ , ì¸ë¼ì¸ íƒ€ì… ì—ëŸ¬ë¥¼ ë„ì›Œì£¼ê¸° ë•Œë¬¸ì´ì£ !</p>\n<figure>\n    <img src=\"https://cdn.jsdelivr.net/gh/jaehyeon48/jaehyeon48.github.io@master/assets/images/react/how-to-use-react-context-effectively/auto-complete.png\" alt=\"Dispatch type getting autocompleted\">\n</figure>\n<figure>\n    <img src=\"https://cdn.jsdelivr.net/gh/jaehyeon48/jaehyeon48.github.io@master/assets/images/react/how-to-use-react-context-effectively/type-error.png\" alt=\"Type error on a misspelled dispatch type\">\n</figure>\n<p>ì €ëŠ” <code class=\"language-text\">dispatch</code>ë¥¼ ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê±¸ ì •ë§ ì¢‹ì•„í•©ë‹ˆë‹¤. ì¶”ê°€ë¡œ, <code class=\"language-text\">dispatch</code>ëŠ” í•´ë‹¹ <code class=\"language-text\">dispatch</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ì¼ìƒë™ì•ˆ ì•ˆì •ì ì¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì— (ì¦‰, ë°”ë€Œì§€ ì•Šê¸° ë•Œë¬¸ì—) <code class=\"language-text\">useEffect</code>ì˜ ì˜ì¡´ì„± ë°°ì—´ì— <code class=\"language-text\">dispatch</code>ë¥¼ ì¶”ê°€í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤ (ì¶”ê°€í•  ê±´ ë§ê±´ ì°¨ì´ê°€ ì—†ìŠµë‹ˆë‹¤).</p>\n<p>ë§Œì•½ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ì‹ ë‹¤ë©´ (ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤), ì˜ëª»ëœ ì•¡ì…˜ íƒ€ì…ì— ëŒ€í•œ ì—ëŸ¬ëŠ” ì¼ì¢…ì˜ ì•ˆì „ì¥ì¹˜ì˜ ì—­í• ì„ í•©ë‹ˆë‹¤. ë˜í•œ, ë‹¤ìŒ ì„¹ì…˜ë„ ì½ì–´ë³´ì„¸ìš”. ë„ì›€ì´ ë  ê²ë‹ˆë‹¤.</p>\n<h2 id=\"ë¹„ë™ê¸°-ì•¡ì…˜ì€ìš”-what-about-async-actions\" style=\"position:relative;\"><a href=\"#%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%95%A1%EC%85%98%EC%9D%80%EC%9A%94-what-about-async-actions\" aria-label=\"ë¹„ë™ê¸° ì•¡ì…˜ì€ìš” what about async actions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"18\" height=\"18\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" viewBox=\"0 0 512 512\"><path fill=\"#05b166\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg></a>ë¹„ë™ê¸° ì•¡ì…˜ì€ìš”? (What About Async Actions?)</h2>\n<p>í›Œë¥­í•œ ì§ˆë¬¸ì…ë‹ˆë‹¤. ë§Œì•½ ë¹„ë™ê¸° ìš”ì²­ì„ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ ì—¬ëŸ¬ ë²ˆ dispatch í•´ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” ì–´ë–¨ê¹Œìš”? ë¬¼ë¡  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ì´ëŸ¬í•œ ë¡œì§ë“¤ì„ ì¼ì¼ì´ (ì´ì™€ ê°™ì€ ë™ì‘ì„ ìš”êµ¬í•˜ëŠ”) ì»´í¬ë„ŒíŠ¸ì™€ ì—°ê²°ì‹œí‚¤ëŠ” ê²ƒì€ ì§œì¦ë‚˜ëŠ” ì¼ì…ë‹ˆë‹¤.</p>\n<p>ì´ì— ëŒ€í•´ ì œê°€ ê¶Œìœ í•˜ê³  ì‹¶ì€ ë°©ì‹ì€ ì»¨í…ìŠ¤íŠ¸ ëª¨ë“ˆ ë‚´ì— <code class=\"language-text\">dispatch</code>ë¥¼ ì¸ìë¡œ ë°›ëŠ” í—¬í¼ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ í•´ë‹¹ í—¬í¼ í•¨ìˆ˜ê°€ ì´ëŸ¬í•œ ìš”ì²­ë“¤ì„ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” ì €ì˜ <a href=\"https://kentcdodds.com/workshops/advanced-react-patterns\" target=\"_blank\" rel=\"noreferrer noopener\">ì‹¬í™” React íŒ¨í„´ ì›Œí¬ìˆ</a>ì—ì„œ ì†Œê°œí•œ ì˜ˆì‹œì…ë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dispatch<span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">,</span> updates</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'start update'</span><span class=\"token punctuation\">,</span> updates <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> updatedUser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> userClient<span class=\"token punctuation\">.</span><span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> updates<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'finish update'</span><span class=\"token punctuation\">,</span> updatedUser <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'fail update'</span><span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> UserProvider<span class=\"token punctuation\">,</span> useUser<span class=\"token punctuation\">,</span> updateUser <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useUser<span class=\"token punctuation\">,</span> updateUser <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./user-context'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">UserSettings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> user<span class=\"token punctuation\">,</span> status<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> userDispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span>userDispatch<span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">,</span> formState<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// more code...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ê²°ë¡ \" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"ê²°ë¡  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" width=\"18\" height=\"18\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" viewBox=\"0 0 512 512\"><path fill=\"#05b166\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg></a>ê²°ë¡ </h2>\n<p>ì½”ë“œì˜ ìµœì¢… ë²„ì „ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> CountContext <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">countReducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'increment'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'decrement'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Unhandled action type: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>action<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">CountProvider</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>countReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ì´ ê°’ì„ memoize í•´ì•¼í•  ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤</span>\n  <span class=\"token comment\">// https://kentcdodds.com/blog/how-to-optimize-your-context-valueë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”!</span>\n  <span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> state<span class=\"token punctuation\">,</span> dispatch <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CountContext.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">CountContext.Provider</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">useCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>CountContext<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>context <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'useCount must be used within a CountProvider'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> context\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> CountProvider<span class=\"token punctuation\">,</span> useCount <span class=\"token punctuation\">}</span></code></pre></div>\n<p>(<a href=\"https://codesandbox.io/s/react-codesandbox-je6cc\" target=\"_blank\" rel=\"noreferrer noopener\">ë°ëª¨</a>)</p>\n<p>ì´ë•Œ, <code class=\"language-text\">CountContext</code>ëŠ” export í•˜ê³  ìˆì§€ ì•Šë‹¤ëŠ” ì ì„ ì£¼ëª©í•´ì£¼ì„¸ìš”. ì»¨í…ìŠ¤íŠ¸ ê°’ì„ ì œê³µí•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì˜¤ì§ í•˜ë‚˜ë¡œ ì œí•œí•˜ê³ ì ì¼ë¶€ëŸ¬ ê·¸ëŸ° ê²ƒì…ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ëŒë“¤ì´ ì»¨í…ìŠ¤íŠ¸ ê°’ì„ ì˜¬ë°”ë¥¸ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ê³ , consumerë¥¼ ìœ„í•œ ìœ ìš©í•œ ìœ í‹¸ë¦¬í‹°ë“¤ì„ ì œê³µí•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.</p>\n<p>ì´ í¬ìŠ¤íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ë„¤ìš”. ê¸°ì–µí•˜ì„¸ìš”:</p>\n<ol>\n<li>ë§ˆì£¼í•˜ëŠ” ëª¨ë“  ìƒíƒœ ê³µìœ  ë¬¸ì œë¥¼ ì»¨í…ìŠ¤íŠ¸ë¡œ í•´ê²°í•˜ë ¤ê³  í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.</li>\n<li>ì»¨í…ìŠ¤íŠ¸ë¥¼ ì „ì—­ìœ¼ë¡œ ë‘˜ í•„ìš”ê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤. íŠ¸ë¦¬ì— ë¶€ë¶„ì ìœ¼ë¡œ ì ìš©í•˜ë ¤ê³  í•´ë³´ì„¸ìš”.</li>\n<li>ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„í• ëœ ì—¬ëŸ¬ ê°œì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•´ë³´ì„¸ìš”.</li>\n</ol>\n<p>ğŸ¤</p>","frontmatter":{"title":"React ì»¨í…ìŠ¤íŠ¸ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°","date":"December 28, 2021","category":"React"}}},"pageContext":{"slug":"/react/how-to-use-react-context-effectively/","previous":{"fields":{"slug":"/testing/avoid-nesting-when-youre-testing/"},"frontmatter":{"title":"í…ŒìŠ¤íŒ…í•  ë•Œ ì¤‘ì²©ì€ í”¼í•˜ì„¸ìš”"}},"next":{"fields":{"slug":"/react/the-elements-of-ui-engineering/"},"frontmatter":{"title":"UI ì—”ì§€ë‹ˆì–´ë§ì˜ ìš”ì†Œë“¤"}}}},"staticQueryHashes":[]}